# Домашнее задание №2

 Этапы выполнения:

- Развёрнута ВМ в WB Cloud.
- Установлен PostgreSQL 17й версии.
- Открыто две SSH сессии на созданную ВМ с PostgreSQL.
- В обоих сеансах открыта консоль PostgreSQL под пользователем "postgres".
- В первом сеансе создана и наполнена данными новая таблица.  
`create table public.testtable(i int, name text);`  
`insert into public.testtable values (1, 'test');`
- Отображен текущий уровень изоляции:  
   `show transaction isolation level;`
  
> read committed
- В обеих сессиях начата новая транзакция с уровнем изоляции по умолчанию:  
   `begin`

- В первой сессии добавлена новая запись:  
   `insert into public.testtable values (2, 'proverka');`

- Во второй сессии произведен запрос на выбор всех записей:  
   `select * from public.testtable;`
> (1 row)

- "Видите ли вы новую запись и если да то почему?"  
*Нет, так как не произведён коммит транзакции в первой сессии*

- Произведён коммит транзакции в первой сессии:
  `commit;`

- Выполнен запрос на выбор всех записей второй сессии:  
    `select * from public.testtable;`
> (2 rows)

- "Видите ли вы новую запись и если да то почему?"  
*Да, так как был произведён коммит первой транзакции, в которой была добавлена эта запись.*

- Завершена транзакция во второй сессии:  
`commit;`

- Запущены новые транзакции с уровнем изоляции "repeatable" read в ОБЕИХ сессиях:  
`begin transaction isolation level repeatable read;`

- В первой сессии добавить новую запись:  
`insert into public.testtable values (3, 'check');`

- Произведен запрос на выбор всех записей во второй сессии:  
`select * from public.testtable;`
> (2 rows)

- "Видите ли вы новую запись и если да то почему?"  
*Нет, так как уровень repeatable read выше, чем read commited*

- Завершена транзакция в первом окне:  
`commit;`

- Произведён запрос на выбор всех записей второй сессии:  
`select * from public.testtable;`
> (2 rows)

- "Видите ли вы новую запись и если да то почему?"  
*Нет, так как в данном случае идет повторное чтение тех же данных*
